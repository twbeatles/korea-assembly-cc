# 🏛️ 국회 의사중계 자막 추출기 v8.0

국회 의사중계 시스템의 AI 자막을 실시간으로 추출하고 저장하는 PyQt6 기반 데스크톱 애플리케이션입니다.

![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)
![PyQt6](https://img.shields.io/badge/PyQt6-6.0+-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

---

## ✨ 주요 기능

### 🎯 핵심 기능
- **실시간 자막 추출** - 국회 의사중계 AI 자막을 실시간으로 캡처
- **지능형 텍스트 누적** - 단어 단위로 자막을 누적하여 완성된 문장 생성
- **화자 자동 감지** - 발언자(의원, 위원장, 장관 등)를 자동으로 인식
- **중복/노이즈 필터링** - 반복되는 자막과 불필요한 노이즈 자동 제거

### 💾 저장 기능
- **실시간 자동 저장** - 추출 중 텍스트 파일로 자동 저장
- **수동 저장** - TXT 파일로 원하는 위치에 저장
- **클립보드 복사** - 전체 내용을 클립보드로 복사

### 🎨 사용자 경험
- **모던 UI** - GitHub 스타일의 세련된 다크/라이트 테마
- **URL 즐겨찾기** - 자주 사용하는 URL 저장 및 관리
- **자동 재연결** - 연결 끊김 시 자동으로 재연결 시도
- **헤드리스 모드** - 브라우저 창 없이 백그라운드 실행

---

## 📋 요구사항

### 필수
- Python 3.9 이상
- Chrome 브라우저 (최신 버전 권장)
- ChromeDriver (Selenium이 자동 관리)

### Python 패키지
```bash
pip install PyQt6 selenium
```

### 선택 (권장)
```bash
pip install psutil  # 메모리 사용량 모니터링
```

---

## 🚀 설치 및 실행

### 1. 저장소 클론 또는 파일 다운로드
```bash
# 파일 다운로드 후 원하는 디렉토리에 저장
```

### 2. 의존성 설치
```bash
pip install PyQt6 selenium psutil
```

### 3. 실행
```bash
python 국회의사중계_자막추출기_v8.0_PyQt6.py
```

### Windows EXE 빌드 (선택)
```bash
pip install pyinstaller
pyinstaller --onefile --windowed --name="국회자막추출기" 국회의사중계_자막추출기_v8.0_PyQt6.py
```

---

## 📖 사용 방법

### 기본 사용법

1. **URL 입력** - 국회 의사중계 페이지 URL 입력
   - 기본값: `https://www.webcast.go.kr/live/`
   - 특정 회의 URL도 지원

2. **시작 버튼 클릭** - Chrome 브라우저가 열리고 자막 추출 시작

3. **자막 확인** - 좌측 패널에서 실시간으로 추출되는 자막 확인

4. **저장** - 완료 후 TXT 저장 또는 클립보드 복사

### 옵션 설정

| 옵션 | 설명 |
|------|------|
| 헤드리스 모드 | 브라우저 창을 숨기고 백그라운드에서 실행 |
| 자동 재연결 | 연결 끊김 시 최대 5회까지 자동 재연결 |
| 실시간 저장 | 추출 중 `realtime_output` 폴더에 자동 저장 |
| 자동 스크롤 | 새 자막이 추가되면 자동으로 스크롤 |

### 필터링 설정 (설정 메뉴)

| 설정 | 설명 |
|------|------|
| 문장부호 자동 교정 | 문장 끝에 마침표 자동 추가 |
| 중복 필터링 | 동일하거나 유사한 문장 제거 |
| 노이즈 필터링 | `[음성 인식 중]`, `[음악]` 등 제거 |
| 화자별 색상 | 발언자마다 다른 색상으로 표시 |

---

## ⌨️ 단축키

| 단축키 | 기능 |
|--------|------|
| `F5` | 추출 시작 |
| `Esc` | 추출 중지 |
| `Ctrl+S` | 파일 저장 |
| `Ctrl+Q` | 프로그램 종료 |
| `Ctrl+T` | 테마 전환 (다크/라이트) |
| `Ctrl+F` | 검색창 포커스 |
| `Ctrl++` / `Ctrl+-` | 글자 크기 조절 |
| `F3` / `Shift+F3` | 다음/이전 검색 결과 |

---

## 📁 파일 구조

```
프로젝트/
├── 국회의사중계_자막추출기_v8.0_PyQt6.py  # 메인 프로그램
├── subtitle_config.json                    # 설정 파일 (자동 생성)
├── url_history.json                        # URL 히스토리 (자동 생성)
└── realtime_output/                        # 실시간 저장 폴더
    └── 국회자막_YYYYMMDD_HHMMSS.txt       # 저장된 자막 파일
```

---

## 🔧 CSS 선택자

프로그램은 다음 CSS 선택자를 순서대로 시도하여 자막 요소를 찾습니다:

1. `#viewSubtit .incont` (기본값)
2. `#viewSubtit`
3. `.subtitle_area`
4. `[id*='subtit']`

국회 웹사이트 구조 변경 시 CSS 선택자를 수동으로 조정할 수 있습니다.

---

## 🎨 테마

### 다크 모드 (기본)
- GitHub Dark 스타일
- 눈의 피로 감소
- 장시간 사용에 적합

### 라이트 모드
- GitHub Light 스타일
- 밝은 환경에서 가독성 향상
- `Ctrl+T`로 전환

---

## 📊 화자 감지 패턴

프로그램이 자동으로 인식하는 화자 패턴:

- `홍길동 의원:` → `[홍길동 의원]`
- `[김철수 위원장]` → `[김철수 위원장]`
- `○ 박영희 장관` → `[박영희 장관]`

지원 직책: 의원, 위원장, 위원, 장관, 총리, 대통령, 의장, 부의장, 차관, 처장, 청장

---

## ⚠️ 주의사항

1. **Chrome 브라우저 필수** - 프로그램은 Chrome을 통해 웹페이지에 접속합니다.

2. **인터넷 연결** - 국회 의사중계 사이트에 접속 가능해야 합니다.

3. **AI 자막 활성화** - 의사중계 페이지에서 AI 자막이 활성화되어 있어야 합니다. 프로그램이 자동으로 활성화를 시도하지만, 실패할 경우 수동으로 활성화해주세요.

4. **저작권** - 추출된 자막의 사용은 개인적인 용도로만 권장됩니다.

---

## 🐛 문제 해결

### Chrome 실행 오류
```
Chrome 시작 실패: ...
```
- Chrome 브라우저가 설치되어 있는지 확인
- Chrome을 최신 버전으로 업데이트
- 다른 Chrome 인스턴스가 실행 중이면 종료

### 자막 요소를 찾을 수 없음
```
자막 요소를 찾을 수 없습니다.
```
- 페이지가 완전히 로드될 때까지 대기
- AI 자막을 수동으로 활성화
- CSS 선택자 변경 시도

### 연결 끊김
```
브라우저 연결 끊김
```
- 자동 재연결 옵션 활성화
- 인터넷 연결 상태 확인
- 국회 사이트 접속 가능 여부 확인

---

## 📝 버전 히스토리

### v8.0 (현재)
- PyQt6 기반 완전 리팩토링
- 모던 UI/UX 디자인
- GitHub 스타일 다크/라이트 테마
- QThread 기반 안정적인 멀티스레딩
- 통계 카드 위젯
- 연결 상태 인디케이터

### v7.1
- 17개 버그 수정
- 설정 실적용 문제 해결
- 스레드 안전성 개선
- 테마/폰트 설정 저장

### v7.0
- tkinter 기반 GUI
- 기본 기능 구현

---

## 🤝 기여

버그 리포트, 기능 제안, 풀 리퀘스트를 환영합니다!

---

## 📄 라이선스

MIT License

---

## 👨‍💻 개발자

이 프로그램은 국회 의사중계의 접근성 향상을 위해 개발되었습니다.

---
